try {

    if (GroupID !== 3 && BoardID && !sessionName) {

        jQuery.ajax({
            type: "POST",
            url: chatx_server + "client/auth.php",
            data: {
                'u': UserLogin,
                'p': UserUniqueID
            },
            dataType: "json",
            xhrFields: {
                withCredentials: true
            },
            success: function(data) {
                jQuery.getScript(chatx_server + "dynamic_js.php");
                if (data.success) {
                    jQuery(".icon-refresh").trigger("click");
                    jQuery(".chatx_logout").remove();
                } else {

                    $("input[name='reg_u'], input[name='reg_p'], input[name='c_reg_p']").hide();
                    $(".chx-signup-form-contents .chx-login-button").removeClass("icon-login").addClass("chx-mybb-login").css({
                        "font-size": "12px",
                        "border-radius": "5px",
                        "margin": "45px auto",
                        "border": "2px solid",
                        "width": "180px",
                        "height": "unset",
                        "padding": "15px 0",
                        "text-transform": "uppercase"
                    });
                    $("input[name='reg_u']").val(UserLogin);
                    $("input[name='reg_p'], input[name='c_reg_p']").val(UserUniqueID);
                    $(".chx-switch-tab.first").removeClass("active");
                    $(".chx-switch-tab.second").addClass("active");
                    $("#chx-signup-form").click();
                    
                    jQuery('.chx-signup-form-contents .chx-login-button').on('click', function() {
                        setTimeout(function() {
                            jQuery.getScript(chatx_server + 'assets/js/mybb-authentication.min.js');
                        }, 2000);
                    });

                }
            }
        });

    } else {
        if (GroupID !== 3) {
            jQuery(".chatx_logout").remove();
        }
        jQuery("#navlogout").click(function() {
           jQuery.getScript(chatx_server + "client/logout.php?ajax");
        });
    }

} catch (e) {
    console.error("Error. Failed to recognize a MyBB.RU forum.");
}